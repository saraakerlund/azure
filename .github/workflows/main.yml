name: Upload to Azure Storage

on:
    workflow_dispatch:

jobs:
    upload:
        runs-on: ubuntu-latest

        steps:
          - name: Checkout repository
            uses: actions/checkout@v3

          - name: Azure Login action
            uses: azure/login@v2
            with:
             creds: ${{ secrets.AZURE_CREDENTIALS }}

          - name: Upload file to Azure Storage
            run: |
                az storage blob upload \
                    --account-name sarasstorage \
                    --account-key secrets.SARASSORAGE_ACCESSKEY \
                    --container-name cdn \
                    --type block \
                    --name test.html \
                    --file test.html
